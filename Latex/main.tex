\documentclass{article}
\usepackage{listings}             % Include the listings-package
\begin{document}
\lstset{language=Pascal}          % Set your language (you can change the language for each code-block optionally)

\begin{lstlisting}
    1 	from heapq import heappop, heappush
    2 	from profiler import profile
    3 	
    4 	@profile
    5 	def hoffman_pavley(G, source, target, k, weightLabel='length'):
    6 	    k_shortest_paths = []
    7 	    paths = [(0, [source])]
    8 	    while paths and len(k_shortest_paths) < k:
    9 	        cost, path = heappop(paths)
    10 	        node = path[-1]
    11 	        if node == target:
    12 	            k_shortest_paths.append((cost, path))
    13 	        else:
    14 	            for neighbor in G.neighbors(node):
    15 	                if neighbor not in path:
    16 	                    new_cost = cost + G[node][neighbor][0][weightLabel]
    17 	                    new_path = path + [neighbor]
    18 	                    heappush(paths, (new_cost, new_path))
    19 	    return k_shortest_paths
    
    
    
\end{lstlisting}

\end{document}